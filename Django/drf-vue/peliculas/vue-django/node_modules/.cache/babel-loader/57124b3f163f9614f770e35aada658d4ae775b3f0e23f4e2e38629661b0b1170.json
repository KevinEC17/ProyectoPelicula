{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { ref } from 'vue';\nexport default {\n  __name: 'LoginComponent',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const username = ref(\"\");\n    const password = ref(\"\");\n    const errors = ref({\n      username: \"\",\n      password: \"\",\n      wrong_credentials: \"\"\n    });\n    const isValidForm = () => {\n      let valid = true;\n      if (!username.value) {\n        errors.username.value = \"Este campo no puede estar en blanco\";\n      } else {\n        errors.username.value = \"\";\n      }\n      if (!password) {\n        errors.password.value = \"Este campo no puede estar en blanco\";\n      } else {\n        errors.password.value = \"\";\n      }\n      if (errors.username.value || errors.password.value) {\n        valid = false;\n      }\n      return valid;\n    };\n    const submitForm = () => {\n      if (isValidForm()) {\n        axios.post('http://127.0.0.1:8000/login/', {\n          username: username,\n          password: password\n        }).then(response => {\n          $store.commit('setToken', response.data);\n          username.value = \"\";\n          password.value = \"\";\n          $router.push('/');\n        }).catch(error => {\n          if (error.response.data.non_field_errors) {\n            errors.wrong_credentials.value = error.response.data.non_field_errors.join('');\n          } else {\n            errors.wrong_credentials.value = \"\";\n          }\n        });\n      }\n    };\n    const __returned__ = {\n      username,\n      password,\n      errors,\n      isValidForm,\n      submitForm,\n      get axios() {\n        return axios;\n      },\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["axios","ref","username","password","errors","wrong_credentials","isValidForm","valid","value","submitForm","post","then","response","$store","commit","data","$router","push","catch","error","non_field_errors","join"],"sources":["C:/Users/Usuario/Desktop/Django/drf-vue/peliculas/vue-django/src/components/LoginComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"d-flex container-fluid rounded-3 mt-4 justify-content-center align-items-center\" style=\"background-color:#ED6A5A; height:38rem\">\r\n        <div class=\"d-flex rounded-5 m-5 justify-content-center align-items-center\" style=\"background-color:#F4F1BB; width: 27rem; height:27rem\">\r\n            <img src=\"https://cdn-icons-png.flaticon.com/512/306/306337.png\" style=\"width: 18rem; height: 18rem\" />\r\n        </div>\r\n        <form @submit.prevent=\"submitForm\" class=\"d-flex container justify-content-center align-items-center flex-column m-5 rounded-5\"  style=\"background-color:#F4F1BB; width: 34rem\">\r\n            <!--{% csrf_token %}-->\r\n            <h1 class=\"mb-5 mt-5\"><strong>Inicio de Sesión</strong></h1>\r\n            <div v-if=\"errors.wrong_credentials\" class=\"form-group col-md-7 flex-column mb-1 mt-3 text-start\">\r\n                <small class=\"text-danger\">{{errors.wrong_credentials}}</small>\r\n            </div>\r\n            <!--Username-->\r\n            <div class=\"form-group col-md-7 flex-column mb-1 mt-3 text-start\">\r\n                <label for=\"username\" class=\"form-label fs-6\"><strong>Nombre de Usuario:</strong></label>\r\n                <input type=\"username\" id=\"username\" name=\"username\" class=\"form-control\" autocomplete=\"off\" v-model=\"username\"/>\r\n                <small v-if=\"errors.username\" class=\"text-danger\">{{errors.username}}</small>\r\n            </div>\r\n            <!--Password-->\r\n            <div class=\"form-group col-md-7 flex-column mt-3 text-start\">\r\n                <label for=\"password\" class=\" form-label fs-6\"><strong>Contraseña:</strong></label>\r\n                <input type=\"password\" id=\"password\" name=\"password\" class=\"form-control\" autocomplete=\"off\" v-model=\"password\"/>\r\n                <small v-if=\"errors.password\" class=\"text-danger\">{{errors.password}}</small>\r\n            </div>\r\n            <!--Button Login-->\r\n            <div class=\"form-group p-3 align-items-center mt-3\">\r\n                <button class=\"btn btn-warning fs-5 text-white\" type=\"submit\">Ingresar</button>\r\n            </div>\r\n            <div class=\"\">\r\n                <p>\r\n                    <router-link class=\"text-decoration-none\" to=\"/signup\">Regístrate aquí.</router-link>\r\n                </p>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import axios from 'axios';\r\n    import { ref } from 'vue';\r\n\r\n    const username = ref(\"\");\r\n    const password = ref(\"\");\r\n    const errors = ref({\r\n        username: \"\",\r\n        password: \"\",\r\n        wrong_credentials: \"\"\r\n    })\r\n    \r\n    const isValidForm = () =>{\r\n        let valid = true;\r\n            if(!username.value){\r\n                errors.username.value = \"Este campo no puede estar en blanco\";\r\n            }\r\n            else{\r\n                errors.username.value = \"\";\r\n            }\r\n            if(!password){\r\n                errors.password.value = \"Este campo no puede estar en blanco\";\r\n            }\r\n            else{\r\n                errors.password.value = \"\";\r\n            }\r\n            if(errors.username.value || errors.password.value ){\r\n                valid = false;\r\n            }\r\n        return valid;\r\n    }\r\n\r\n    const submitForm = () => {\r\n        if(isValidForm()){\r\n            axios.post('http://127.0.0.1:8000/login/', {username: username, password: password})\r\n            .then(response => {\r\n                $store.commit('setToken', response.data);\r\n                username.value = \"\";\r\n                password.value = \"\";\r\n                $router.push('/');\r\n                    })\r\n                    .catch(error => {\r\n                        if(error.response.data.non_field_errors) {\r\n                            errors.wrong_credentials.value = error.response.data.non_field_errors.join('');\r\n                        }\r\n                        else{\r\n                            errors.wrong_credentials.value = \"\";\r\n                        }\r\n                    })\r\n                }\r\n    }\r\n</script>"],"mappings":";AAqCI,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,KAAK;;;;;;;IAEzB,MAAMC,QAAQ,GAAGD,GAAG,CAAC,EAAE,CAAC;IACxB,MAAME,QAAQ,GAAGF,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMG,MAAM,GAAGH,GAAG,CAAC;MACfC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZE,iBAAiB,EAAE;IACvB,CAAC,CAAC;IAEF,MAAMC,WAAW,GAAGA,CAAA,KAAK;MACrB,IAAIC,KAAK,GAAG,IAAI;MACZ,IAAG,CAACL,QAAQ,CAACM,KAAK,EAAC;QACfJ,MAAM,CAACF,QAAQ,CAACM,KAAK,GAAG,qCAAqC;MACjE,CAAC,MACG;QACAJ,MAAM,CAACF,QAAQ,CAACM,KAAK,GAAG,EAAE;MAC9B;MACA,IAAG,CAACL,QAAQ,EAAC;QACTC,MAAM,CAACD,QAAQ,CAACK,KAAK,GAAG,qCAAqC;MACjE,CAAC,MACG;QACAJ,MAAM,CAACD,QAAQ,CAACK,KAAK,GAAG,EAAE;MAC9B;MACA,IAAGJ,MAAM,CAACF,QAAQ,CAACM,KAAK,IAAIJ,MAAM,CAACD,QAAQ,CAACK,KAAK,EAAE;QAC/CD,KAAK,GAAG,KAAK;MACjB;MACJ,OAAOA,KAAK;IAChB,CAAC;IAED,MAAME,UAAU,GAAGA,CAAA,KAAM;MACrB,IAAGH,WAAW,CAAC,CAAC,EAAC;QACbN,KAAK,CAACU,IAAI,CAAC,8BAA8B,EAAE;UAACR,QAAQ,EAAEA,QAAQ;UAAEC,QAAQ,EAAEA;QAAQ,CAAC,CAAC,CACnFQ,IAAI,CAACC,QAAQ,IAAI;UACdC,MAAM,CAACC,MAAM,CAAC,UAAU,EAAEF,QAAQ,CAACG,IAAI,CAAC;UACxCb,QAAQ,CAACM,KAAK,GAAG,EAAE;UACnBL,QAAQ,CAACK,KAAK,GAAG,EAAE;UACnBQ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;QACb,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;UACZ,IAAGA,KAAK,CAACP,QAAQ,CAACG,IAAI,CAACK,gBAAgB,EAAE;YACrChB,MAAM,CAACC,iBAAiB,CAACG,KAAK,GAAGW,KAAK,CAACP,QAAQ,CAACG,IAAI,CAACK,gBAAgB,CAACC,IAAI,CAAC,EAAE,CAAC;UAClF,CAAC,MACG;YACAjB,MAAM,CAACC,iBAAiB,CAACG,KAAK,GAAG,EAAE;UACvC;QACJ,CAAC,CAAC;MACN;IACZ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}